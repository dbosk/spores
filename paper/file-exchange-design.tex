\subsection{\acs{SPORES}: fragmentation and reassembly across devices}%
\label{SPORES}%
\label{sec:file_exchange}

So far, we have treated the case where Alice sends \emph{one} message to Bob in 
\emph{one} round and any one of Bob's devices receives it.
Now we will consider a slightly different scenario, we will show how to build a 
file transferring service on top of \ac{SPORES}.
Consider that the message \(m\) that Alice wants to send to Bob is too large to 
successfully pass every layer of the route.
\Eg each device goes offline and back online every \(t\) time units, the 
bandwidth is \(w\) size units per time unit and the message is \(l\) size 
units; if \(l > t w\), then the message \(m\) can never be delivered as any 
device will go offline before relaying it to the next node.
The natural solution is to split \(m\) into \(n\) parts, \(m_0, \dotsc, m_n\), 
where \(l/n\leq t w\).
The problem now is that \(m_i\) and \(m_j\) (\(i\neq j\)) might end up on 
different devices.
In this section we describe a file-transfer protocol for splitting a large 
message, sending the fragments using \ac{SPOR} and reassemble them --- even if 
the fragments are received by different devices of the squad.

\commentDaniel{I leave it to Adrien, for now, to write this up.}

\usepackage{ifthen}
\usepackage{calc}
\usepackage{color}
%\usepackage{tikz}

\setlength{\marginparwidth}{1.2cm}

\newcommand{\annote}[3]{{%
		\colorbox{#3}{\bfseries\sffamily\footnotesize\textcolor{white}{#2}}
		\color{#3}\footnotesize
		% \ifthenelse{\equal{#1}{}}{[\scshape #2]}{
		$\blacktriangleright$\textit{#1}$\blacktriangleleft$}
}

\newcommand{\ftanote}[2]{\marginpar{\centering #1 \fbox{#2}}}
\DeclareRobustCommand{\change}[3]{{\color{#3}#1\ftanote{\color{#3} \sc}{#2}}}
\DeclareRobustCommand{\changeBis}[3]{{\color{#3}#1}} % no margin note

% \newcommand{\fixme}[1]{\annote{#1}{Fixme}{red}}
% \newcommand{\flaw}[1]{\annote{#1}{flaw}{red}}
% \newcommand{\todo}[1]{\annote{#1}{Todo}{red}}
% \newcommand{\done}[1]{\annote{#1}{Done}{OliveGreen}}
% \newcommand{\ongoing}[1]{\annote{#1}{OnG}{orange}}
% \newcommand{\maybe}[1]{\annote{#1}{Maybe}{ProcessBlue}}
% \newcommand{\niceToHave}[1]{\annote{#1}{NiceToHave}{ProcessBlue}}
% \newcommand{\tweak}[1]{\annote{#1}{Tweak}{magenta}}
% \newcommand{\revise}[1]{\annote{#1}{Revise}{magenta}}
% \newcommand{\alt}[1]{\annote{#1}{Alt}{magenta}}
% \newcommand{\somenote}[1]{\annote{#1}{Note}{OliveGreen}}
% \newcommand{\more}[1]{\annote{#1}{More}{RubineRed}}
% \newcommand{\add}[1]{\annote{#1}{Add}{RubineRed}}
% \newcommand{\addRef}[1]{\annote{#1}{Ref}{red}}
% \newcommand{\criticism}[1]{\annote{#1}{Criticism}{RubineRed}}
% \newcommand{\answer}[1]{\annote{#1}{Answer}{RubineRed}}

\newcommand{\commentDaniel}[1]{\annote{#1}{Daniel}{magenta}}
\newcommand{\commentAL}[1]{\annote{#1}{AL}{blue}}
\newcommand{\david}[1]{\annote{#1}{David}{red}}
\newcommand{\commentFT}[1]{\annote{#1}{FT}{brown}}
\newcommand{\changeFT}[1]{\change{#1}{FT}{brown}}
\newcommand{\changeBisFT}[1]{\changeBis{#1}{FT}{brown}}
\newcommand{\sonja}[1]{\annote{#1}{Sonja}{violet}}

%% Uncomment for final version
% \renewcommand{\change}[3]{#1}
% \renewcommand{\changeBis}[3]{#1}
% \renewcommand{\annote}[3]{}

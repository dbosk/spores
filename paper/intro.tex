\section{Introduction}

% What's the problem?
Following Mark Weiser's vision, we are nowadays
experiencing a new era of cooperation and interactions between humans.
The exponential proliferation of connected devices is
drastically impacting human experience and enhancing human
exchanges~\cite{Dearman:2008, Oh:2017, Sohn:2008,Harper08}. This evolution has opened new areas of research such as
\textit{proxemics} applied to ubiquitous computing
\cite{Marquardt:2011}. When evolving in their social space, users can today rely on
multiple kinds of computing devices that form a \textit{personal squad} of connected entities, or \squad as we shall call them in the remainder of the
paper. Helped by their \squad, users
have come to expect ever higher levels of connectivity and interaction
possibilities. For instance, as users bring
their devices close to one another, they expect to be able to initiate cross-device
interactions \textit{in situ} in order to share digital content
\cite{Oh:2017} between devices of their own \squad or with those of other users' \squad{}s. More broadly, users expect to share digital content,
wherever the content, its sender, or its recipient might be located, from one
arbitrary device to another in a seamless manner~\cite{Dearman:2008}, as they
would have done in the old days with an USB key or with an email. 

This thirst for seamless sharing explains the rise and ongoing popularity
of personal sharing platforms such as Dropbox, Google Docs,
OneDrive, Amazon Drive, etc. These solutions are able to share data between any device, any user, almost
anytime, anywhere. They achieve this feat by relying heavily on
\emph{remote cloud services}, which have now become a key enabler of ubiquitous ecosystems. 
% argument: cloud -> danger, 
%% From a technical perspective, one major trend to provide a seamless
%% sharing of digital contents among users' devices is to leverage on the
%% cloud, which acts as a key enabler for ubiquitous computing. Users' data
%% are pushed online, into the cloud with either Dropbox, Google Docs,
%% OneDrive, Amazon Drive, etc. to make it accessible anytime,
%% anywhere to the users' devices.
%% \commentFT{Removing the following, as seems to be a detour from main argument: \emph{In the last decades, a lot of research work has
%% emerged to promote the use of this offloading strategy to overcome scarce
%% resources of users' devices, and to provide an always-on availability
%% \cite{Zhang:2014,Gordon:2012,Chun:2011}. It paves the way of different kind
%% of clouds, such as mobile cloud computing, mobile-edge computing
%% and/or fog computing, that aim to use the nodes from the cloud
%% infrastructure that are the closest to end users
%% for offloading with an improved quality of service and user experience.}}
%% Hence, the cloud, and its variants constitute a perfect complement
%% to perform storage and computation on behalf of the resource
%% constrained devices.
Unfortunately, this reliance on the cloud comes at a strong price: 
%% users and their devices become totally tethered to the cloud ecosystem and its providers. As
%% a direct consequence,
users lose control over their own data, which is distributed over
multiple data centers, often in foreign jurisdictions, making it difficult for most users to grasp, review, and assess the privacy, and
confidentiality guaranties they can expect. In practice, user data hosted in the cloud is routinely harvested, often without explicit
consent, either by cloud providers or third parties.

Although data encryption is often proposed as a first line of defense for cloud-hosted data, it is unfortunately  insufficient~\cite{granick_2017, HooffLZZ15, HarnikPS10}. Metadata such as a user'
location and activity can be still tracked, including the access
control history revealing what each user shared with whom and when. 
%  because it does not protect meta-data information
This turns out to be a critical limitation, as famously emphasized by a former NSA and CIA director: "We kill people based on metadata.''~\cite{NaughtonTheGuardian2016} 
User devices become tracking and/or monitoring \squad{}s that turn to
be the best spy over users. 

Constructing a system that provides fully anonymous content sharing is highly
challenging. The last two decades have witnessed many attempts at building privacy preserving and anonymous P2P data-sharing
networks~\cite{Clarke:2001,Gnunet2002,Freedman:2002,Nambiar:2006,Rennhard:2002}.
These solutions typically leverage \emph{onion
 routing}~\cite{Chaum:1981}, with some improvements to perform node
 discovery in a distributed manner, a step that is otherwise
centralized in traditional onion routing schemes. However, because of the high
churn typically experienced by P2P networks, the performance of these systems is
discouraging~\cite{LeBlond:2013}; churn causes routes to be frequently
reconstructed, which is very expensive. By contrast, Tor
\cite{Dingledine:2004}, one of the most popular anonymous networks,
trades lower anonymity guaranties for a much better performance. Tor's lower protection arises from
a partially centralized design that hinges on a set of \emph{directory
servers}, which are used to advertise trusted nodes that are available to bootstrap onion
routes. 

In this paper, we demonstrate how good performance can be reconciled
with strong privacy protection in data-sharing systems. We present
\name{}, a novel fully decentralized, autonomous,

% approach that provides a 
and self-organizing file sharing service between the \squad{}s of different users that preserves user privacy
in terms of both data \emph{and} metadata. Our proposal hinges on two key ideas: \emph{First}, we consider proxemics relationships as a key enabler to initiate file
transfers. Close distance among users enable them to share
routing information out-of-band, e.g. from their
\squad. In contrast to state-of-the-art P2P systems, users agree in \name out-of-band to share a file, but
do not keep it available for anyone else in the future. \emph{Second}, we
rely on distributed machine learning techniques to predict the future
availability of user devices, and use this ability to implement a \emph{probabilistic predictive onion routing} mechanism. The predictive nature of our routing allows us to overcome the inherent fragility of pure P2P data-sharing schemes.

%% In this paper, we introduce \name{}, a novel approach to perform a decentralized, autonomous,
%% and self-organizing file sharing among users' devices while preserving the usersâ€™ privacy
%% in terms of data and metadata. We leverage on the latest works achieved
%% in p2p systems, privacy and anonymity. The originality of our approach come
%% from two key aspects. First, we consider proxemics relationships as a key enabler to initiate file
%% transfers. Intimate distance among users enable them to share
%% routing information out-of-band, e.g. from their
%% \squad. Compared to the state of the art on p2p systems, with \name,
%% users agree out-of-band to share a file but
%% do not keep it available for anyone else in the future. Second, we
%% rely on distributed machine learning technics to predict the
%% availability of nodes. As such, \name provides optimized onion routes; it avoids routes
%% reconstruction under churns.

Our contributions are as follows: 
\begin{itemize}
\item We have designed \name, a novel fully decentralized, autonomous,
and self-organizing file sharing service among users based on a novel
concept named Probabilistic Onion Routes (POR), which combines onion routing with
probabilistic node selection, informed by random peer sampling and
Hidden Markov Model predictions for node availability. 
\item  We have demonstrated the successfulness of our approach. Even
  suboptimal prediction results in successful file transfer with high
  probability. 
\end{itemize}

In the following, in Section~\ref{system-model}, we introduce the
adversary model and the desired privacy properties of \name. Section~\ref{design}
introduces the design of our proposed solution. Section~\ref{Performance}
evaluates the proposed approach. In Section~\ref{security-discussion}, we lead a security discussion
about advantages, and shortcomings of our approach.
Finally, Section~\ref{conclusion} discusses future work and conclusions.
% Cashmere: resilient anonymous routing.
% Route fingerprinting in anonymous communications.
% Bridging and fingerprinting:
% Epistemic attacks on route selection
% Breaking the collusion detection mechanism of morphmix
% Denial of service or denial of security? How attacks
% on reliability can compromise anonymity

%!TEX root = p2p-private-cloud.tex

\usepackage[binary-units]{siunitx}
\usepackage[british]{babel}
\usepackage[hidelinks]{hyperref}
\usepackage{algorithm}
\usepackage[noend]{algpseudocode}
\usepackage[single]{acro}
\usepackage{booktabs}
\usepackage[T1]{fontenc}
\usepackage[unq]{unique}
\usepackage[utf8]{inputenc}
\usepackage{amsthm}
\usepackage{amsmath}
\usepackage{booktabs}
\usepackage{kbordermatrix}% .sty in paper dir
\usepackage{listings}
\usepackage{mathtools}
\usepackage{newclude}
%\usepackage{subcaption}
\usepackage{thmtools}
\usepackage{xfrac}
\usepackage{xparse}
\usepackage{xspace}
\usepackage[inline]{enumitem}

\usepackage[all]{foreign}
\renewcommand{\foreignfullfont}{}
\renewcommand{\foreignabbrfont}{}

\usepackage[strict]{csquotes}

%% From IEEE template
%\usepackage{cite}
\usepackage{amsmath,amssymb,amsfonts}
%\usepackage{algorithmic}
\usepackage{graphicx}
\usepackage{textcomp}
\def\BibTeX{{\rm B\kern-.05em{\sc i\kern-.025em b}\kern-.08em
    T\kern-.1667em\lower.7ex\hbox{E}\kern-.125emX}}


\DeclareMathOperator{\powerset}{\mathcal{P}}

\lstset{%
  basicstyle=\footnotesize,
  numbers=left
}
\let\email\texttt


% Adrien: What is the following for?
\usepackage[noamsthm,notheorems]{beamerarticle}
\declaretheorem[numbered=unless unique,style=theorem]{theorem}
\declaretheorem[numbered=unless unique,style=definition]{definition}
\declaretheorem[numbered=unless unique,style=definition]{assumption}
\declaretheorem[numbered=unless unique,style=definition]{protocol}
\declaretheorem[numbered=unless unique,style=example]{example}
%\declaretheorem[style=definition,numbered=unless unique,
%  name=Example,refname={example,examples}]{example}
\declaretheorem[numbered=unless unique,style=remark]{remark}
\declaretheorem[numbered=unless unique,style=remark]{idea}
\declaretheorem[numbered=unless unique,style=exercise]{exercise}
\declaretheorem[numbered=unless unique,style=exercise]{question}
\declaretheorem[numbered=unless unique,style=solution]{solution}

\usepackage[sets]{cryptocode}

\usepackage[natbib,style=ieee]{biblatex}
\usepackage[capitalize]{cleveref}
\usepackage{bibsp}
\addbibresource{meta.bib}
\addbibresource{osn.bib}
\addbibresource{anon.bib}
\addbibresource{be.bib}
\addbibresource{crypto.bib}
\addbibresource{p2p.bib}
\addbibresource{otrmsg.bib}
\addbibresource{ac.bib}
\addbibresource{p2p-private-cloud.bib}
\addbibresource{adrien.bib}

\DeclareAcronym{OR}{%
  short = {OR},
  long = {Onion Routing},
}
\DeclareAcronym{POR}{%
  short = {POR},
  long = {Probabilistic Onion Routing},
}
\DeclareAcronym{SPOR}{%
  short = {SPOR},
  long = {Stateless Predictive Probabilistic Onion Routing},
  short-format = \scshape
}
\DeclareAcronym{SPORES}{%
  short = {SPORES},
  long = {\it Stateless Predictive Probabilistic Onion Routing for E-Squads},
  short-format = \scshape
}
\DeclareAcronym{RPS}{%
  short = {RPS},
  long = {random-peer sampling},
}

\newcommand{\name}{\ac{SPORES}\xspace}
\newcommand{\sphinxes}{\textsc{SphinxES}\xspace}
\newcommand{\squad}{e-squad\xspace}
\newcommand{\squads}{e-squads\xspace}
\newcommand{\Squad}{E-squad\xspace}
\newcommand{\Squads}{E-squads\xspace}

% sphinxes.tex
\NewScheme{\SPORES}{SPORES}
\NewVariable{\sk}{x}
\NewVariable{\pk}{X}
\NewAlgorithm{\Enc}{Enc}
\NewScheme{\Sphinxes}{SphinxES}
\NewAlgorithm{\CreateHeader}{\Sphinxes[CreateHeader]}
\NewAlgorithm{\CreateFwd}{\Sphinxes[CreateForward]}
\NewAlgorithm{\CreateReply}{\Sphinxes[CreateReply]}
\NewAlgorithm{\UseReply}{\Sphinxes[UseReply]}
\NewAlgorithm{\ProcessHeader}{\Sphinxes[ProcessHeader]}
\NewAlgorithm{\CreateLayer}{\SPOR[CreateLayer]}
\NewAlgorithm{\GetRandomNode}{\SPOR[GetRandomNode]}
\NewVariable{\G}{\mathcal{G}}
\NewVariable*{\mac}{\mu}
\NewVariable*{\prg}{\rho}
\NewVariable*{\prp}{\pi}
\NewVariable{\hash}{h}
%\NewVariable{\tag}{\tau}
\NewVariable{\secret}{s}
\NewVariable{\blind}{b}
\NewVariable*{\N}{\mathcal{N}}
\NewVariable*{\D}{\mathcal{D}}
\NewVariable*{\nullnode}{\varepsilon}
\NewVariable{\rdvnode}{*}
\NewAlgorithm{\ComputeKeys}{ComputeKeys}
\NewAlgorithm{\ComputePadding}{ComputePadding}
\NewVariable{\ProcessMessage}{ProcessMessage}

%spor.tex
%\NewFunction{\avail}{avail}


% Adrien's

\newcommand\fileid{\ensuremath{ID_{\text{f}}}\xspace}
\newcommand\sendingdevice{\ensuremath{d^{(s)}_f}\xspace}
\newcommand\recdevice{\ensuremath{d^{(r)}_f}\xspace}
\newcommand\trps{\ensuremath{t_{\text{RPS}}}}
\newcommand\rpsview{\ensuremath{\mathcal{V}}\xspace}
\newcommand\desc{\ensuremath{{\mathtt{desc}}}\xspace}
%\newcommand\layer{\ensuremath{{\mathcal{L}}}\xspace}
\newcommand\layer{L\xspace}
\newcommand\Pon{\ensuremath{P}\xspace}
\newcommand\Poff{\ensuremath{P_{\text{off}}}\xspace}
\newcommand\finfo{\ensuremath{\mathcal{I}_f}}
\newcommand\filesize{\ensuremath{s_f}\xspace}
%\newcommand\chunk{\ensuremath{\mathit{ch}}}
\newcommand\chunk{\ensuremath{ch}}
\newcommand\chunksize{\ensuremath{s_{\chunk}}\xspace}
\newcommand\nchunks{\ensuremath{n_{\chunk}}\xspace}
\newcommand\hashchunk{\ensuremath{h_{\chunk}}\xspace}
\newcommand\hashfile{h\xspace}

\newcommand\bitfield{\ensuremath{bf_f}\xspace}
\newcommand\tupload{\ensuremath{t_{\text{upload}}}\xspace}



\usepackage{breqn}
\usepackage{graphicx}
\usepackage{import} % for pdf+latex
%\graphicspath{{figures/}}

\input{revision_macros.tex}
